<!DOCTYPE html>
<html lang="hu">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>DAY02 lista n√©zet</title>

  <link rel="stylesheet" href="../assets/css/style.css">

  <style>
    body.day02 {
      background: url("images/Saalachtal.png") center / cover no-repeat fixed;
    }

    .card {
      background: rgba(0, 0, 0, 0.72);
    }
  </style>
</head>

<body class="day02">
  <div class="page">

    <!-- TOPBAR -->
    <div class="topbar">
      <div class="inner">
        <div class="brand">
          <div class="title">K√©k Duna t√∫ra</div>
          <div class="subtitle">DAY02 lista n√©zet</div>
        </div>
        <div class="btnrow">
          <a class="btn" href="../index.html">üè† F≈ëoldal</a>
          <button class="btn btn-accent" id="btnNearest">üìå Legk√∂zelebbi pont</button>
        </div>
      </div>
    </div>

    <div class="container">

      <div class="card">
        <div class="h1">DAY02 ‚Äì Wachau ‚Üí Salzkammergut ‚Üí Saalachtal</div>
        <div class="small">
          A m√©r√©s automatikusan indul oldalnyit√°skor, majd 5 mp m√∫lva friss√≠t.
          A t√°vols√°gok minden c√©lpontn√°l friss√ºlnek.
        </div>
        <div class="notice" id="gpsNotice" style="display:none">
          A helymeghat√°roz√°s nem √©rhet≈ë el. Ellen≈ërizd az enged√©lyeket.
        </div>
      </div>

      <div style="height:14px"></div>

      <div class="grid" id="poiList">

        <!-- P1 -->
        <div class="poi" id="p1">
          <div class="poi-head">
            <div class="poi-title">1. Rossatz‚ÄìArnsdorf, Dunapart</div>
            <div class="badges">
              <span class="badge"><span class="dot warn" data-dot="p1"></span><span data-badgetext="p1">m√©r√©s:
                  v√°rakoz√°s</span></span>
              <span class="badge"><span class="dot warn"></span><span data-dist="p1">t√°vols√°g: ‚Äî</span></span>
            </div>
          </div>
          <div class="p">Autentikus dunaparti szakasz sz≈ël≈ëkkel √©s gy√ºm√∂lcs√∂s√∂kkel.</div>
          <div class="poibtns">
            <a class="btn btn-accent" href="day02_01_rossatz.html">R√©szletek</a>
            <a class="btn btn-blue" href="https://maps.app.goo.gl/ETUnKq2VYQ353sXz7" target="_blank">üß≠ Navig√°ci√≥</a>
          </div>
          <img class="inline-image" src="images/RossatzArnsdorf.jpg">
        </div>

        <!-- P2 -->
        <div class="poi" id="p2">
          <div class="poi-head">
            <div class="poi-title">2. Melk ap√°ts√°g</div>
            <div class="badges">
              <span class="badge"><span class="dot warn" data-dot="p2"></span><span data-badgetext="p2">m√©r√©s:
                  v√°rakoz√°s</span></span>
              <span class="badge"><span class="dot warn"></span><span data-dist="p2">t√°vols√°g: ‚Äî</span></span>
            </div>
          </div>
          <div class="p">Monument√°lis barokk ap√°ts√°g a Duna felett.</div>
          <div class="poibtns">
            <a class="btn btn-accent" href="day02_02_melk_apatsag.html">R√©szletek</a>
            <a class="btn btn-blue" href="https://maps.app.goo.gl/PUSnMxMeUEEzap8s6" target="_blank">üß≠ Navig√°ci√≥</a>
          </div>
          <img class="inline-image" src="images/Melk.jpg">
        </div>

        <!-- P3 -->
        <div class="poi" id="p3">
          <div class="poi-head">
            <div class="poi-title">3. Grein</div>
            <div class="badges">
              <span class="badge"><span class="dot warn" data-dot="p3"></span><span data-badgetext="p3">m√©r√©s:
                  v√°rakoz√°s</span></span>
              <span class="badge"><span class="dot warn"></span><span data-dist="p3">t√°vols√°g: ‚Äî</span></span>
            </div>
          </div>
          <div class="p">Hangulatos dunai kisv√°ros, kast√©llyal √©s sz√≠nh√°zzal.</div>
          <div class="poibtns">
            <a class="btn btn-accent" href="day02_03_grein.html">R√©szletek</a>
            <a class="btn btn-blue" href="https://maps.app.goo.gl/QLxBZA7Vg7stKeBCA" target="_blank">üß≠ Navig√°ci√≥</a>
          </div>
          <img class="inline-image" src="images/Grein.jpg">
        </div>

        <!-- P4 -->
        <div class="poi" id="p4">
          <div class="poi-head">
            <div class="poi-title">4. Waidhofen an der Ybbs</div>
            <div class="badges">
              <span class="badge"><span class="dot warn" data-dot="p4"></span><span data-badgetext="p4">m√©r√©s:
                  v√°rakoz√°s</span></span>
              <span class="badge"><span class="dot warn"></span><span data-dist="p4">t√°vols√°g: ‚Äî</span></span>
            </div>
          </div>
          <div class="p">K√∂z√©pkori v√°rosmag, er≈ës vasipari m√∫lttal.</div>
          <div class="poibtns">
            <a class="btn btn-accent" href="day02_04_waidhofen_an_der_ybbs.html">R√©szletek</a>
            <a class="btn btn-blue" href="https://www.google.com/maps/dir/?api=1&destination=47.960634,14.774023"
              target="_blank">üß≠ Navig√°ci√≥</a>
          </div>
          <img class="inline-image" src="images/WaidhofenanderYbbs.jpg">
        </div>

        <!-- P5 -->
        <div class="poi" id="p5">
          <div class="poi-head">
            <div class="poi-title">5. Traunsee</div>
            <div class="badges">
              <span class="badge"><span class="dot warn" data-dot="p5"></span><span data-badgetext="p5">m√©r√©s:
                  v√°rakoz√°s</span></span>
              <span class="badge"><span class="dot warn"></span><span data-dist="p5">t√°vols√°g: ‚Äî</span></span>
            </div>
          </div>
          <div class="p">Ausztria legm√©lyebb tava, meredek hegyfalakkal.</div>
          <div class="poibtns">
            <a class="btn btn-accent" href="day02_05_traunsee.html">R√©szletek</a>
            <a class="btn btn-blue" href="https://www.google.com/maps/dir/?api=1&destination=47.918163,13.802318"
              target="_blank">üß≠ Navig√°ci√≥</a>
          </div>
          <img class="inline-image" src="images/Traunsee.jpg">
        </div>

        <!-- P6 -->
        <div class="poi" id="p6">
          <div class="poi-head">
            <div class="poi-title">6. Ort v√≠zikast√©ly</div>
            <div class="badges">
              <span class="badge"><span class="dot warn" data-dot="p6"></span><span data-badgetext="p6">m√©r√©s:
                  v√°rakoz√°s</span></span>
              <span class="badge"><span class="dot warn"></span><span data-dist="p6">t√°vols√°g: ‚Äî</span></span>
            </div>
          </div>
          <div class="p">Ikonikus kast√©ly a Traunsee egyik sziget√©n.</div>
          <div class="poibtns">
            <a class="btn btn-accent" href="day02_06_ort_vizikastely.html">R√©szletek</a>
            <a class="btn btn-blue" href="https://www.google.com/maps/dir/?api=1&destination=47.910645,13.790349"
              target="_blank">üß≠ Navig√°ci√≥</a>
          </div>
          <img class="inline-image" src="images/Ortvizikastely.jpg">
        </div>

        <!-- P7 -->
        <div class="poi" id="p7">
          <div class="poi-head">
            <div class="poi-title">7. Bad Ischl ‚Äì Kaiservilla</div>
            <div class="badges">
              <span class="badge"><span class="dot warn" data-dot="p7"></span><span data-badgetext="p7">m√©r√©s:
                  v√°rakoz√°s</span></span>
              <span class="badge"><span class="dot warn"></span><span data-dist="p7">t√°vols√°g: ‚Äî</span></span>
            </div>
          </div>
          <div class="p">A Habsburgok egykori ny√°ri rezidenci√°ja.</div>
          <div class="poibtns">
            <a class="btn btn-accent" href="day02_07_bad_ischl_kaiservilla.html">R√©szletek</a>
            <a class="btn btn-blue" href="https://maps.app.goo.gl/T29yZ9qAG2Bt3Jm29" target="_blank">üß≠ Navig√°ci√≥</a>
          </div>
          <img class="inline-image" src="images/BadIschl.jpg">
        </div>

        <!-- P8 -->
        <div class="poi" id="p8">
          <div class="poi-head">
            <div class="poi-title">8. Szent Wolfgang</div>
            <div class="badges">
              <span class="badge"><span class="dot warn" data-dot="p8"></span><span data-badgetext="p8">m√©r√©s:
                  v√°rakoz√°s</span></span>
              <span class="badge"><span class="dot warn"></span><span data-dist="p8">t√°vols√°g: ‚Äî</span></span>
            </div>
          </div>
          <div class="p">G√≥tikus templom Michael Pacher olt√°r√°val.</div>
          <div class="poibtns">
            <a class="btn btn-accent" href="day02_08_szent_wolfgang.html">R√©szletek</a>
            <a class="btn btn-blue" href="https://maps.app.goo.gl/fFbWorjYGg8E5LLJ8" target="_blank">üß≠ Navig√°ci√≥</a>
          </div>
          <img class="inline-image" src="images/SzentWolfgang.jpg">
        </div>

        <!-- P9 -->
        <div class="poi" id="p9">
          <div class="poi-head">
            <div class="poi-title">9. Fuschlsee</div>
            <div class="badges">
              <span class="badge"><span class="dot warn" data-dot="p9"></span><span data-badgetext="p9">m√©r√©s:
                  v√°rakoz√°s</span></span>
              <span class="badge"><span class="dot warn"></span><span data-dist="p9">t√°vols√°g: ‚Äî</span></span>
            </div>
          </div>
          <div class="p">Smaragdz√∂ld alpesi t√≥ Salzburg k√∂zel√©ben.</div>
          <div class="poibtns">
            <a class="btn btn-accent" href="day02_09_fuschlsee.html">R√©szletek</a>
            <a class="btn btn-blue" href="https://maps.app.goo.gl/5C1bRzVbsAz8swge7" target="_blank">üß≠ Navig√°ci√≥</a>
          </div>
          <img class="inline-image" src="images/Fuschlsee.jpg">
        </div>

        <!-- P10 -->
        <div class="poi" id="p10">
          <div class="poi-head">
            <div class="poi-title">10. Wiestalstausee</div>
            <div class="badges">
              <span class="badge"><span class="dot warn" data-dot="p10"></span><span data-badgetext="p10">m√©r√©s:
                  v√°rakoz√°s</span></span>
              <span class="badge"><span class="dot warn"></span><span data-dist="p10">t√°vols√°g: ‚Äî</span></span>
            </div>
          </div>
          <div class="p">Erd≈ëkkel k√∂r√ºlvett v√≠zt√°roz√≥.</div>
          <div class="poibtns">
            <a class="btn btn-accent" href="day02_10_wiestalstausee.html">R√©szletek</a>
            <a class="btn btn-blue" href="https://maps.app.goo.gl/qZqcp98VkQn6zsTq7" target="_blank">üß≠ Navig√°ci√≥</a>
          </div>
          <img class="inline-image" src="images/Wiestalstausee.jpg">
        </div>

        <!-- P11 -->
        <div class="poi" id="p11">
          <div class="poi-head">
            <div class="poi-title">11. Camping M√ºhlleiten ‚Äì Lofer</div>
            <div class="badges">
              <span class="badge"><span class="dot warn" data-dot="p11"></span><span data-badgetext="p11">m√©r√©s:
                  v√°rakoz√°s</span></span>
              <span class="badge"><span class="dot warn"></span><span data-dist="p11">t√°vols√°g: ‚Äî</span></span>
            </div>
          </div>
          <div class="p">Motorosbar√°t alpesi kemping a Saalachtalban.</div>
          <div class="poibtns">
            <a class="btn btn-accent" href="day02_11_camping_muehlleiten_lofer.html">R√©szletek</a>
            <a class="btn btn-blue" href="https://maps.app.goo.gl/2GLs3rVT3cS5VFFo7" target="_blank">üß≠ Navig√°ci√≥</a>
          </div>
          <img class="inline-image" src="images/CampingM√ºhlleiten.jpg">
        </div>

      </div>
    </div>
  </div>

  <script>
    const POIS = [
      { id: "p1", lat: 48.390832, lon: 15.516668 },
      { id: "p2", lat: 48.228300, lon: 15.332600 },
      { id: "p3", lat: 48.226894, lon: 14.852718 },
      { id: "p4", lat: 47.960634, lon: 14.774023 },
      { id: "p5", lat: 47.918163, lon: 13.802318 },
      { id: "p6", lat: 47.910645, lon: 13.790349 },
      { id: "p7", lat: 47.713941, lon: 13.620722 },
      { id: "p8", lat: 47.738186, lon: 13.447891 },
      { id: "p9", lat: 47.792000, lon: 13.298800 },
      { id: "p10", lat: 47.676100, lon: 13.074300 },
      { id: "p11", lat: 47.599781, lon: 12.988963 }
    ];

    function haversineKm(lat1, lon1, lat2, lon2) {
      const R = 6371;
      const dLat = (lat2 - lat1) * Math.PI / 180;
      const dLon = (lon2 - lon1) * Math.PI / 180;
      const a =
        Math.sin(dLat / 2) ** 2 +
        Math.cos(lat1 * Math.PI / 180) *
        Math.cos(lat2 * Math.PI / 180) *
        Math.sin(dLon / 2) ** 2;
      return R * 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
    }

    function setBadge(id, txt) {
      const el = document.querySelector(`[data-badgetext="${id}"]`);
      if (el) el.textContent = txt;
    }

    function setDist(id, km) {
      const el = document.querySelector(`[data-dist="${id}"]`);
      if (el) el.textContent = `t√°vols√°g: ${km.toFixed(2)} km`;
    }

    function computeDistances(pos) {
      const out = {};
      POIS.forEach(p => {
        out[p.id] = haversineKm(pos.lat, pos.lon, p.lat, p.lon);
      });
      return out;
    }

    function scrollToPoi(id) {
      const el = document.getElementById(id);
      if (el) el.scrollIntoView({ behavior: "smooth", block: "center" });
    }

    function getPosOnce() {
      return new Promise((resolve, reject) => {
        navigator.geolocation.getCurrentPosition(
          p => resolve({ lat: p.coords.latitude, lon: p.coords.longitude }),
          e => reject(e),
          { enableHighAccuracy: true, maximumAge: 0, timeout: 12000 }
        );
      });
    }

    async function runMeasureCycle(scrollAfter = true) {
      try {
        const pos = await getPosOnce();
        const d = computeDistances(pos);
        for (const id in d) {
          setDist(id, d[id]);
          setBadge(id, "m√©rve");
        }
        if (scrollAfter) {
          const nearest = Object.keys(d).reduce((a, b) => d[a] < d[b] ? a : b);
          scrollToPoi(nearest);
        }
      } catch (err) {
        document.getElementById("gpsNotice").style.display = "block";
      }
    }

    runMeasureCycle(true);
    document.getElementById("btnNearest").addEventListener("click", () => runMeasureCycle(true));
  </script>

</body>

</html>